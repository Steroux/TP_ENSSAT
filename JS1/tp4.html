<html>

<head>
    <title>Tp JS</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="../style.css" />
</head>

<body class='bg-dark text-white m-5'>
    <div class="full text-center row">
        <div class='bg-purple rounded text-center col-4 offset-4'>
            <h2>Liste des différents travaux</h2>
            <nav class='navbar navbar-brand'>
                <a href="../indexJS.html" class='m-1'>
                    <button class='btn btn-secondary'>Accueil - JS</button>
                </a>
                <a href="./tp1.html" class='m-1'>
                    <button class='btn btn-secondary'>Exo 1</button>
                </a>
                <a href="./tp2.html" class='m-1'>
                    <button class='btn btn-secondary'>Exo 2</button>
                </a>
                <a href="./tp3.html" class='m-1'>
                    <button class='btn btn-secondary'>Exo 3</button>
                </a>
                <a href="./tp4.html" class='m-1'>
                    <button class='btn btn-secondary'>Exo 4</button>
                </a>
                <a href="./tp5.html" class='m-1'>
                    <button class='btn btn-secondary'>Exo 5</button>
                </a>
            </nav>
        </div>
    </div>
    <div class="text-center">
        <h1>Canvas</h1>
        <canvas id="canvas" width="500" height="500">
            Votre navigateur ne prend pas le canvas en charge
        </canvas>
    </div>
    <footer class="m-5 text-center">
        <p>©2020 Sterenn ROUX - IMR1 - Tous droits réservés </p>
    </footer>
</body>
<script>
    const deplacement = () => {
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var x1 = 10,
            x2 = 10,
            x3 = 10;
        ctx.fillStyle = "red";
        // carré 1
        ctx.fillRect(x1, 10, 100, 100);
        // carré 2
        ctx.fillRect(x2, 120, 100, 100);
        // carré 3
        ctx.fillRect(x3, 240, 100, 100);
        let cpt = 0;
        const callback = () => {
            if (x1 < 400 && cpt >= 40) {
                ctx.clearRect(x1, 10, 100, 100);
                x1 += 10;
                ctx.fillRect(x1, 10, 100, 100);
            }
            if (x2 < 400 && cpt >= 50) {
                // 10 = 1 seconde de décalage
                ctx.clearRect(x2, 120, 100, 100);
                x2 += 10;
                ctx.fillRect(x2, 120, 100, 100);
            }
            if (x3 < 400 && cpt >= 60) {
                //50 = 1seconde du premier carré + 4 secondes de décalage
                ctx.clearRect(x3, 240, 100, 100);
                x3 += 10;
                ctx.fillRect(x3, 240, 100, 100);
            }
            cpt++;
        };
        const interval = window.setInterval(callback, 100);
    };

    window.addEventListener("load", deplacement);
</script>

</html>