<html>
  <head>
    <title>Tp JS</title>
    <meta charset="utf-8" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <!--<link rel="stylesheet" href="../style.css" />-->
  </head>

  <body class="bg-dark text-white m-5">
    <div class="full text-center row">
      <div class="bg-purple rounded text-center col-4 offset-4">
        <h2>Liste des différents travaux</h2>
        <nav class="navbar navbar-brand">
          <a href="../indexJS.html" class="m-1">
            <button class="btn btn-secondary">Accueil - JS</button>
          </a>
          <a href="./tp1.html" class="m-1">
            <button class="btn btn-secondary">Exo 1</button>
          </a>
          <a href="./tp2.html" class="m-1">
            <button class="btn btn-secondary">Exo 2</button>
          </a>
          <a href="./Test_events/index_2.html" class="m-1">
            <button class="btn btn-secondary">Exo 3</button>
          </a>
          <a href="../emptypage.html" class="m-1">
            <button class="btn btn-secondary">Exo 4</button>
          </a>
        </nav>
      </div>
    </div>
    <div class="text-center">
        <h1>Animated image</h1>
        <canvas id = 'animatedElem'>

        </canvas>
    </div>
    <footer class="m-5 text-center">
      <p>©2020 Sterenn ROUX - IMR1 - Tous droits réservés</p>
    </footer>
  </body>
  <script>
        


        theCanvas = document.getElementById("animatedElem");
        var ctx = theCanvas.getContext("2d");
        ctx.canvas.width  = window.innerWidth;
        ctx.canvas.height = window.innerHeight;


        function drawGame(index){
            theCanvas = document.getElementById("animatedElem");
            var ctx = theCanvas.getContext('2d');

            var img = new Image();
            img.addEventListener('load', function() {
                ctx.clearRect(0, 0, 50, 50);
                ctx.drawImage(img, 44*i, 0, 44,40,0,0,44,40 );
            }, false);
            img.src="./coin-sprite-animation-sprite-sheet.png";

        }
        var i = 0 ;


        var mainloop = function() {
            //updateGame();
            drawGame(i);
            i++;
            if( i > 9){
                i = 0;
            }
        };


        var animFrame = window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame    ||
                window.oRequestAnimationFrame      ||
                window.msRequestAnimationFrame     ||
                null ;

        var recursiveAnim = function() {
            mainloop();
            animFrame( recursiveAnim );
        };

        // start the mainloop
        animFrame( recursiveAnim );

        

    
  </script>
</html>
